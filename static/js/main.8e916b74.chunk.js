(this["webpackJsonpassignment-tracker"]=this["webpackJsonpassignment-tracker"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},40:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(29),s=n.n(r),i=(n(35),n(13)),o=n(4),j=(n(36),n(14)),l=n(5),u=n(24);n(52);u.a.initializeApp({apiKey:"AIzaSyCTzoSd6CWwCSp10ahpFs1KkCnfaLwjUJA",authDomain:"assignment-tracker-7048a.firebaseapp.com",projectId:"assignment-tracker-7048a",storageBucket:"assignment-tracker-7048a.appspot.com",messagingSenderId:"439558575065",appId:"1:439558575065:web:7d92424cfae3b5b65a7fc8"});var d=u.a.firestore(),b=n(15),O=n.n(b),h=n(19),m=n(1),f=Object(c.createContext)(),x=function(e,t){return"CHANGE_MODE"===t.type?Object(j.a)(Object(j.a)({},e),{},{mode:t.payload}):e};function p(e){var t=e.children,n=Object(c.useReducer)(x,{mode:"white"}),a=Object(l.a)(n,2),r=a[0],s=a[1];return Object(m.jsx)(f.Provider,{value:Object(j.a)(Object(j.a)({},r),{},{changeMode:function(e){s({type:"CHANGE_MODE",payload:e})}}),children:t})}var g=function(){var e=Object(c.useContext)(f);if(void 0===e)throw new Error("out of scope of the ModeContextProvider");return e};n(40);function v(e){var t=e.assignment,n=g().mode,c=function(){var e=Object(h.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.collection("assignments").doc(t).delete();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 0===t.length?Object(m.jsx)("div",{className:"error",children:" Nothing to show here"}):Object(m.jsx)("div",{className:"assignment-card",children:t.map((function(e){return Object(m.jsxs)("div",{className:"card ".concat(n),children:[Object(m.jsx)("h3",{children:e.title}),Object(m.jsx)("button",{className:"delete-btn",onClick:function(){return c(e.id)},children:"Delete"}),Object(m.jsxs)("p",{children:[e.time," mins to complete."]}),Object(m.jsxs)("div",{children:[e.details.substring(0,100),"..."]}),Object(m.jsx)(i.b,{to:"/assignments/".concat(e.id),children:"Read details"})]},e.id)}))})}n(45);function S(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2),O=b[0],h=b[1];return Object(c.useEffect)((function(){o(!0);var e=d.collection("assignments").onSnapshot((function(e){if(e.empty)h("No assignment to load"),o(!1);else{var t=[];e.docs.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id}))})),a(t),o(!1)}}),(function(e){h(e.message),o(!1)}));return function(){return e()}}),[]),Object(m.jsxs)("div",{className:"home",children:[O&&Object(m.jsx)("p",{className:"error",children:O}),i&&Object(m.jsx)("p",{className:"loading",children:"Loading..."}),n&&Object(m.jsx)(v,{assignment:n})]})}n(46);function k(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],u=Object(c.useState)(0),b=Object(l.a)(u,2),f=b[0],x=b[1],p=Object(o.f)(),g=function(){var e=Object(h.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={title:n,details:i,time:f},e.prev=2,e.next=5,d.collection("assignments").add(c);case 5:p.push("/assignment-tracker"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"create",children:Object(m.jsxs)("form",{onSubmit:g,children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"Assignment title"}),Object(m.jsx)("input",{type:"text",required:!0,onChange:function(e){return a(e.target.value)},value:n})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"Assignment Details"}),Object(m.jsx)("textarea",{required:!0,onChange:function(e){return j(e.target.value)},value:i})]}),Object(m.jsxs)("label",{children:[Object(m.jsx)("span",{children:"Time"}),Object(m.jsx)("input",{type:"number",required:!0,onChange:function(e){return x(e.target.value)},value:f})]}),Object(m.jsx)("button",{children:"Submit"})]})})}n(47);function N(){var e=Object(o.g)().search,t=new URLSearchParams(e).get("q"),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=Object(c.useState)(null),a=Object(l.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(c.useState)(null),m=Object(l.a)(b,2),f=m[0],x=m[1],p=Object(c.useState)(null),g=Object(l.a)(p,2),v=g[0],S=g[1],k=function(e){"POST"===t&&S({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};return Object(c.useEffect)((function(){var n=new AbortController,c=function(){var t=Object(h.a)(O.a.mark((function t(c){var a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,fetch(e,Object(j.a)(Object(j.a)({},c),{},{signal:n.signal}));case 4:if((a=t.sent).ok){t.next=7;break}throw new Error(a.statusText);case 7:return t.next=9,a.json();case 9:r=t.sent,d(!1),s(r),x(null),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),"AbortError"===t.t0.name?console.log("the fetch was aborted"):(d(!1),x("Could not fetch the data"));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}();return"POST"===t&&v?c(v):"GET"===t&&c(),function(){n.abort()}}),[e,v,t]),{data:r,isPending:u,error:f,sendData:k}}("http://localhost:3000/assignments?q=".concat(t)),a=n.error,r=n.isPending,s=n.data;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{className:"page-title",children:['Assignment including "',t,'"']}),a&&Object(m.jsx)("p",{className:"error",children:a}),r&&Object(m.jsx)("p",{className:"loading",children:"Loading..."}),s&&Object(m.jsx)(v,{assignment:s})]})}n(48);function w(){var e=Object(o.h)().id,t=Object(c.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),j=i[0],u=i[1],b=Object(c.useState)(!1),O=Object(l.a)(b,2),h=O[0],f=O[1];Object(c.useEffect)((function(){u(!0);var t=d.collection("assignments").onSnapshot((function(t){if(t.empty)f("No assignment to load"),u(!1);else{var n={};n=t.docs.filter((function(t){return t.id===e})),r(n.at(0).data()),u(!1)}}),(function(e){f(e.message),u(!1)}));return function(){return t()}}),[e]);var x=g().mode;return Object(m.jsxs)("div",{className:"assignment ".concat(x),children:[h&&Object(m.jsx)("div",{className:"error",children:h}),j&&Object(m.jsx)("div",{children:"Loading..."}),a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"page-title",children:a.title}),Object(m.jsxs)("p",{children:[" Time for the task ",a.time]}),Object(m.jsx)("p",{children:a.details})]})]})}n(49),n(50);function C(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(o.f)();return Object(m.jsx)("div",{className:"searchbar",children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.push("/search?q=".concat(n))},children:[Object(m.jsx)("label",{htmlFor:"search",children:"Search:"}),Object(m.jsx)("input",{id:"search",type:"text",onChange:function(e){return a(e.target.value)},required:!0})]})})}var y=n.p+"static/media/mode.fdb51e7c.svg";function E(){var e=g(),t=e.mode,n=e.changeMode;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"navbar",children:Object(m.jsxs)("nav",{children:[Object(m.jsx)(i.b,{to:"/home",className:"brand",children:Object(m.jsx)("h1",{children:"Assignment Tracker"})}),Object(m.jsx)(C,{}),Object(m.jsx)(i.b,{to:"/create",children:"Create Assignment"})]})}),Object(m.jsx)("div",{className:"mode-div",children:Object(m.jsx)("img",{src:y,alt:"Mode Icon",onClick:function(){n("dark"===t?"white":"dark")}})})]})}var A=function(){var e=g().mode;return Object(m.jsx)("div",{className:"App ".concat(e),children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(E,{}),Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/assignment-tracker",children:Object(m.jsx)(S,{})}),Object(m.jsx)(o.a,{path:"/assignment-tracker/assignments/:id",children:Object(m.jsx)(w,{})}),Object(m.jsx)(o.a,{path:"/assignment-tracker/search",children:Object(m.jsx)(N,{})}),Object(m.jsx)(o.a,{path:"/assignment-tracker/create",children:Object(m.jsx)(k,{})}),Object(m.jsx)(o.a,{path:"/assignment-tracker/home",children:Object(m.jsx)(S,{})})]})]})})};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(p,{children:Object(m.jsx)(A,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.8e916b74.chunk.js.map